<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link href="https://cdn.bootcss.com/normalize/8.0.0/normalize.min.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/lodash.js/4.17.10/lodash.min.js"></script>
  <style>
    div {
      height: 200px;
      width: 100%;
    }

    #a {
      background-color: aqua;
    }

    #b {
      background-color: coral;
      height: 1500px;
    }

    #c {
      background-color: darkseagreen;
    }
  </style>
</head>

<body>
  <div id="a"></div>
  <div id="b"></div>
  <span id="bEnd"></span>
  <div id="c"></div>

  <script>
    function update() {
      var pageHeight = $(document).height(); // 总高度
      var barHeight = $(window).height(); // 滚动条高度
      var barTopOff = $(document).scrollTop(); // 滚动条跟顶部的距离
      var signTopOff = $('#bEnd').offset().top; // 锚点跟顶部的距离

      // console.log(pageHeight, barHeight, barTopOff, signTopOff);

      if ((barHeight + barTopOff) > signTopOff) {
        console.log('滚动条超过锚点', barHeight, barTopOff, signTopOff);
        $('#b').height($('#b').height() + 100);     
      }
    }

    var upd = _.debounce(update, 1000);

    $(document).scroll(function(e) {
      upd();
    });
  </script>
</body>

</html>